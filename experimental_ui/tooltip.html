<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <script src="UIEngine.js"></script>
    <link rel="stylesheet" href="styles.css?v=3" />
</head>

<body>
    <div id="_body_" class="screenBox">
        <div class="tooltip">
            <span id="block" class="text">Block</span>
            <span id="mod" class="text">Modification</span>
        </div>
    </div>
</body>

<script type="text/javascript">
    // Get a handle to the scripting interface on creation.
    // The script interface can trigger events to the client script
    let scriptEngineHandle = undefined;
    engine.on("facet:updated:core.scripting", function(scriptEngine) {
        scriptEngineHandle = scriptEngine;
    });

    engine.on("updateInfo", function(blockInfo) {
        blockInfo = JSON.parse(blockInfo);
        let mod = blockInfo[0];
        let block = blockInfo[1];
        block = block.replace("_", " ");
        document.getElementById('block').innerHTML = block;
        document.getElementById('mod').innerHTML = mod;
    });

    engine.trigger("facet:request", ["core.scripting"]);

    // Grab the leave button element
    // let leaveButton = document.getElementById("_close_");
    // // When the leave button is pressed send a message to the client script
    // leaveButton.addEventListener("click", function() {
    //     scriptEngineHandle.triggerEvent("leavePressed");
    // });

    // function closeWindow() {
    //     scriptEngineHandle.triggerEvent("leaveRocket");
    // }

    // function launchRocket() {
    //     scriptEngineHandle.triggerEvent("launchRocket");
    // }
</script>

</html>